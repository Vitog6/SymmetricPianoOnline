<!DOCTYPE html><html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suoni con la tastiera (Shift a sinistra)</title>
</head>
<body>
    <h1>Premi un tasto per ascoltare la nota</h1>
    <p>Premi uno dei seguenti tasti: Tab, Q, W, E, R, T, 1, 2, 3, 4, 5, 6.</p><script>
    // Frequenze delle note:
    // Lettere: Q, W, E, R, T, Y   -> shift left: Tab, Q, W, E, R, T
    // Numeri:  2, 3, 4, 5, 6, 7   -> shift left: 1, 2, 3, 4, 5, 6
    const frequenze = {
        "Tab": 261.63,  // Do  (era su Q)
        "Q":   293.66,  // Re  (era su W)
        "W":   329.63,  // Mi  (era su E)
        "E":   370.00,  // Fa# (era su R)
        "R":   415.30,  // Sol#(era su T)
        "T":   466.16,  // La# (era su Y)
        "1":   277.18,  // Do# (era su 2)
        "2":   311.13,  // Re# (era su 3)
        "3":   349.23,  // Fa  (era su 4)
        "4":   392.00,  // Sol (era su 5)
        "5":   440.00,  // La  (era su 6)
        "6":   493.88   // Si  (era su 7)
    };

    let audioContext;

    function inizializzaAudioContext() {
        if (!audioContext) {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }
    }

    function suonaNota(frequenza) {
        inizializzaAudioContext();

        const oscillatore = audioContext.createOscillator();
        oscillatore.type = "sine";
        oscillatore.frequency.setValueAtTime(frequenza, audioContext.currentTime);
        oscillatore.connect(audioContext.destination);
        oscillatore.start();
        oscillatore.stop(audioContext.currentTime + 0.5);
    }

    document.addEventListener("keydown", function(event) {
        const tasto = event.key;
        if (frequenze[tasto]) {
            // Previeni lo spostamento di focus per il Tab
            if (tasto === "Tab") event.preventDefault();
            suonaNota(frequenze[tasto]);
        }
    });

    document.body.addEventListener("click", inizializzaAudioContext);
</script>

</body>
</html>
