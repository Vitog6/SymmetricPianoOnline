<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symmetric Piano Online</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
            flex-direction: column;
        }

        .message {
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }

        .piano {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .white-key, .black-key {
            border: 1px solid black;
            display: inline-block;
            height: 200px;
            transition: background-color 0.1s ease;
        }

        .white-key {
            width: 40px;
            background-color: white;
            position: relative;
            z-index: 1;
        }

        .black-key {
            width: 30px;
            height: 120px;
            background-color: black;
            position: absolute;
            margin-left: -15px;
            margin-right: -15px;
            z-index: 2;
        }

        .white-key:active, .black-key:active {
            background-color: lightgrey;
        }

        .white-key.active, .black-key.active {
            background-color: lightblue;
        }

        .instructions {
            font-size: 16px;
            margin-top: 10px;
            text-align: center;
        }

    </style>
</head>
<body>

    <div class="message">
        <h1>Welcome to Symmetric Piano Online!</h1>
        <p>Use your keyboard to play notes</p>
    </div>

    <div class="instructions">
        <p><strong>Instructions:</strong></p>
        <p>Press the following keys to play the corresponding piano notes:</p>
        <p><strong>Left Hand:</strong> Q, 2, W, 3, E, R, 5, T, 6, Y, 7, U</p>
        <p><strong>Right Hand:</strong> >, 1, A, 2, S, D, 4, F, 5, G, 6, H</p>
        <p>Click the keys to play or press multiple keys at once!</p>
    </div>

    <div class="piano">
        <!-- Mano sinistra (24 tasti bianchi e neri) -->
        <div id="q" class="white-key" data-note="C"></div>
        <div id="2" class="black-key" data-note="C#"></div>
        <div id="w" class="white-key" data-note="D"></div>
        <div id="3" class="black-key" data-note="D#"></div>
        <div id="e" class="white-key" data-note="E"></div>
        <div id="r" class="white-key" data-note="F"></div>
        <div id="5" class="black-key" data-note="F#"></div>
        <div id="t" class="white-key" data-note="G"></div>
        <div id="6" class="black-key" data-note="G#"></div>
        <div id="y" class="white-key" data-note="A"></div>
        <div id="7" class="black-key" data-note="A#"></div>
        <div id="u" class="white-key" data-note="B"></div>

        <!-- Mano destra (altri 24 tasti bianchi e neri) -->
        <div id=">" class="white-key" data-note="C" style="margin-left: 5px;"></div>
        <div id="1" class="black-key" data-note="C#"></div>
        <div id="a" class="white-key" data-note="D"></div>
        <div id="2" class="black-key" data-note="D#"></div>
        <div id="s" class="white-key" data-note="E"></div>
        <div id="d" class="white-key" data-note="F"></div>
        <div id="4" class="black-key" data-note="F#"></div>
        <div id="f" class="white-key" data-note="G"></div>
        <div id="5" class="black-key" data-note="G#"></div>
        <div id="g" class="white-key" data-note="A"></div>
        <div id="6" class="black-key" data-note="A#"></div>
        <div id="h" class="white-key" data-note="B"></div>
    </div>

    <script>
        // Pianoforte suonato con i tasti
        const keyMap = {
            "q": "C", "2": "C#", "w": "D", "3": "D#", "e": "E", "r": "F",
            "5": "F#", "t": "G", "6": "G#", "y": "A", "7": "A#", "u": "B",
            ">": "C", "1": "C#", "a": "D", "2": "D#", "s": "E", "d": "F",
            "4": "F#", "f": "G", "5": "G#", "g": "A", "6": "A#", "h": "B"
        };

        const sounds = {
            "C": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3'),
            "C#": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3'),
            "D": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3'),
            "D#": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3'),
            "E": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3'),
            "F": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3'),
            "F#": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3'),
            "G": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3'),
            "G#": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-9.mp3'),
            "A": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-10.mp3'),
            "A#": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-11.mp3'),
            "B": new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-12.mp3')
        };

        // Funzione per suonare la nota
        function playNote(note) {
            if (sounds[note]) {
                sounds[note].currentTime = 0; // Per assicurarsi che non si sovrappongano i suoni
                sounds[note].play();
            }
        }

        // Funzione per aggiungere l'effetto di illuminazione ai tasti
        function lightUpKey(keyElement) {
            keyElement.classList.add("active");
            setTimeout(() => {
                keyElement.classList.remove("active");
            }, 150); // Rimuove l'illuminazione dopo 150ms
        }

        // Aggiungere gli eventi di pressione dei tasti sulla tastiera
        document.addEventListener("keydown", function(event) {
            const note = keyMap[event.key];
            if (note) {
                playNote(note);

                // Trova il tasto corrispondente e accende l'illuminazione
                const keyElement = document.querySelector(`#${event.key}`);
                if (keyElement) {
                    lightUpKey(keyElement);
                }
            }
        });

        // Aggiungere gli eventi di clic sui tasti della tastiera virtuale
        const keys = document.querySelectorAll(".white-key, .black-key");
        keys.forEach(key => {
            key.addEventListener("click", function() {
                const note = key.dataset.note;
                playNote(note);
                lightUpKey(key);
            });
        });
    </script>

</body>
</html>
